[{"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\index.js":"1","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\login\\Login.js":"2","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\dashBoard\\DashBoard.js":"3","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\reducers\\collapsed.js":"4","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\reducers\\UserReducer.js":"5","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\actions\\UserAction.js":"6","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\Home.js":"7","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\personnel\\Attendance.js":"8","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\purchase\\Demand.js":"9","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\topHeader\\TopHeader.js":"10","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\permissions\\Permissions.js":"11","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\actions\\CollapsedAction.js":"12","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\FoodMenuInfo.js":"13","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\Entry.js":"14","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\App.js":"15","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\profit\\Today.js":"16","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\sideMenu\\SideMenu.js":"17","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\purchase\\DemandModel.js":"18","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\InfomationTable.js":"19","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\loadImg.js":"20","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\card.js":"21","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\Card.js":"22","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\HomeTarget.js":"23","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\WriteFoodInfo.js":"24","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\InformationEntry.js":"25"},{"size":579,"mtime":1606978384702,"results":"26","hashOfConfig":"27"},{"size":4832,"mtime":1606876098474,"results":"28","hashOfConfig":"27"},{"size":3661,"mtime":1606900470110,"results":"29","hashOfConfig":"27"},{"size":339,"mtime":1606809596689,"results":"30","hashOfConfig":"27"},{"size":407,"mtime":1606812633028,"results":"31","hashOfConfig":"27"},{"size":715,"mtime":1606906269603,"results":"32","hashOfConfig":"27"},{"size":496,"mtime":1606991828259,"results":"33","hashOfConfig":"27"},{"size":2519,"mtime":1606987627966,"results":"34","hashOfConfig":"27"},{"size":3332,"mtime":1606894992003,"results":"35","hashOfConfig":"27"},{"size":2302,"mtime":1606824569437,"results":"36","hashOfConfig":"27"},{"size":9638,"mtime":1606992907462,"results":"37","hashOfConfig":"27"},{"size":108,"mtime":1606790786644,"results":"38","hashOfConfig":"27"},{"size":1313,"mtime":1606824614212,"results":"39","hashOfConfig":"27"},{"size":5113,"mtime":1606994147192,"results":"40","hashOfConfig":"27"},{"size":320,"mtime":1606976838691,"results":"41","hashOfConfig":"27"},{"size":3449,"mtime":1606974749535,"results":"42","hashOfConfig":"27"},{"size":5467,"mtime":1606993805001,"results":"43","hashOfConfig":"27"},{"size":2801,"mtime":1606964681489,"results":"44","hashOfConfig":"27"},{"size":4782,"mtime":1606964395007,"results":"45","hashOfConfig":"27"},{"size":3197,"mtime":1606737074115,"results":"46","hashOfConfig":"27"},{"size":203,"mtime":1606990021140,"results":"47","hashOfConfig":"27"},{"size":935,"mtime":1606991231463,"results":"48","hashOfConfig":"27"},{"size":2420,"mtime":1606992464116,"results":"49","hashOfConfig":"27"},{"size":2566,"mtime":1606994094473,"results":"50","hashOfConfig":"27"},{"size":763,"mtime":1606994133723,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"v1adma",{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\index.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\login\\Login.js",["105","106","107"],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\dashBoard\\DashBoard.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\reducers\\collapsed.js",[],["108","109"],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\reducers\\UserReducer.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\actions\\UserAction.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\Home.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\personnel\\Attendance.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\purchase\\Demand.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\topHeader\\TopHeader.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\permissions\\Permissions.js",["110"],"import React, { Component  } from 'react'\r\nimport { Table,Button ,Modal, Form, Input, Select } from 'antd';\r\nimport axios from 'axios'\r\n\r\nconst {Option} = Select;\r\nexport default class Permissions extends Component {\r\n    state = {\r\n        data: [],\r\n        selectedRowKeys: [], // Check here to configure the default column\r\n        loading: false,\r\n        filteredInfo:[],\r\n        visibleAdd: false,\r\n        roleList:[],\r\n        columns :[\r\n            {\r\n                title: 'Name',\r\n                dataIndex: 'username',\r\n                key: 'username',\r\n                render: text => <b>{text}</b>,\r\n            },\r\n            {\r\n                title: 'Level',\r\n                dataIndex: 'level',\r\n                key: 'level',\r\n                defaultSortOrder: 'descend',\r\n                sorter: (a, b) => parseInt(a.level) - parseInt(b.level)\r\n            },\r\n            {\r\n                title: 'permission',\r\n                dataIndex: 'permission',\r\n                key: 'permission',\r\n                filters: [],\r\n                onFilter: (value, record) => record.permission=== value,\r\n            },\r\n            {\r\n                title: 'Email',\r\n                dataIndex: 'email',\r\n                key: 'email',\r\n            },\r\n            {\r\n                title: '操作',\r\n                dataIndex: '操作',\r\n                key: 'do',\r\n                render: (text, record) => {\r\n                    if(parseInt(record.level)===0){\r\n                        return <Button type=\"primary\" danger disabled={true} onClick={()=>{this.del(record.id)}}>删除</Button>\r\n                    }\r\n                    return <Button type=\"primary\" danger disabled={false} onClick={()=>{this.del(record.id)}}>删除</Button>\r\n                },\r\n            }\r\n        ]\r\n    };\r\n    myAddForm = React.createRef()\r\n    del(id){\r\n        var newlist = [...this.state.data]\r\n        newlist.splice()\r\n        this.setState({\r\n            data:this.state.data.filter(item=>item.id!==id),\r\n            loading:true\r\n        })\r\n        axios.delete(`http://localhost:5000/user/${id}`).then((data)=>{\r\n            console.log(data);\r\n            setTimeout(()=>{\r\n                        this.setState({\r\n                            loading:false\r\n                        })\r\n                    },1000)\r\n        })\r\n    }\r\n    start = () => {\r\n        this.setState({ loading: true });\r\n        // ajax request after empty completing\r\n        setTimeout(() => {\r\n          this.setState({\r\n            selectedRowKeys: [],\r\n            loading: false,\r\n          });\r\n        }, 1000);\r\n      };\r\n      onSelectChange = selectedRowKeys => {\r\n        console.log('selectedRowKeys changed: ', selectedRowKeys);\r\n        this.setState({ selectedRowKeys });\r\n      };\r\n    componentDidMount() {\r\n        axios.get(`http://localhost:5000/user?`).then(data => {\r\n            this.setState({\r\n                data: data.data\r\n            });\r\n        })\r\n        axios.get(`http://localhost:5000/role?`).then(data => {\r\n            this.setState({\r\n                roleList: data.data\r\n            })\r\n            let result=this.state.columns.filter(data=>data.filters)[0]\r\n            result.filters=data.data.map(item=>{\r\n                    return {text:item.roleName,value:item.roleName}\r\n            })\r\n            \r\n            this.setState({\r\n                columns: [...this.state.columns.filter(data=>!data.filters),result]\r\n            })\r\n        })\r\n        \r\n    }\r\n    render() {\r\n        const { data, loading,selectedRowKeys } = this.state;\r\n        const rowSelection = {\r\n            selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n            selections: [\r\n            Table.SELECTION_ALL,\r\n            Table.SELECTION_INVERT,\r\n            {\r\n                key: 'odd',\r\n                text: 'Select Odd Row',\r\n                onSelect: changableRowKeys => {\r\n                let newSelectedRowKeys = [];\r\n                newSelectedRowKeys = changableRowKeys.filter((key, index) => {\r\n                    if (index % 2 !== 0) {\r\n                    return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                this.setState({ selectedRowKeys: newSelectedRowKeys });\r\n                },\r\n            },\r\n            {\r\n                key: 'even',\r\n                text: 'Select Even Row',\r\n                onSelect: changableRowKeys => {\r\n                let newSelectedRowKeys = [];\r\n                newSelectedRowKeys = changableRowKeys.filter((key, index) => {\r\n                    if (index % 2 !== 0) {\r\n                    return true;\r\n                    }\r\n                    return false;\r\n                });\r\n                this.setState({ selectedRowKeys: newSelectedRowKeys });\r\n                },\r\n            },\r\n            ],\r\n        };\r\n        const hasSelected = selectedRowKeys.length > 0;\r\n        \r\n       \r\n  \r\n \r\n        return (\r\n            <div>\r\n                <div style={{ marginBottom: 16 }}>\r\n                \r\n               \r\n                <span style={{ marginLeft: 8 }}>\r\n                    {hasSelected ? `已选 ${selectedRowKeys.length} 项` : ''}\r\n                </span>\r\n                <Button type=\"primary\"  style={{background:'#000',border:'#000',color:'#fff',float:'right'}} onClick={() => {\r\n                    this.setState({\r\n                        visibleAdd: true\r\n                    })}}>\r\n                    添加员工\r\n                </Button>\r\n                \r\n                </div>\r\n                \r\n            <Table\r\n                columns={this.state.columns}\r\n                dataSource={data}\r\n                rowKey={record => record.id}\r\n                rowSelection={rowSelection}\r\n                loading={this.state.loading}\r\n            />\r\n            <Modal\r\n                    visible={this.state.visibleAdd} //visible是否可见\r\n                    title=\"添加用户信息\"\r\n                    okText=\"创建\"\r\n                    cancelText=\"取消\"\r\n                    onCancel={() => {\r\n                        this.setState({\r\n                            visibleAdd: false\r\n                        })\r\n                    }}\r\n                    onOk={this.addOk}\r\n                >\r\n                    <Form\r\n                        layout=\"vertical\"\r\n                        name=\"form_in_modal\"\r\n                        ref={this.myAddForm} //通过this.myAddForm 就饿可以访问form组件实例上的所有方法\r\n                    >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            label=\"用户名\"\r\n                            rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            label=\"密码\"\r\n                            rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n                        >\r\n                            <Input type=\"password\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"permission\"\r\n                            label=\"角色\"\r\n                            rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                placeholder=\"Select a role\"\r\n                            >\r\n                                {\r\n                                    this.state.roleList.map( (item,index)=>\r\n                                    <Option value={item.roleName} key={index}>{item.roleName}</Option>    \r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n                \r\n    }\r\n    addOk = ()=>{\r\n        // console.log(this.myAddForm.current)\r\n        //校验表单\r\n        this.myAddForm.current.validateFields().then(value=>{\r\n            let perList=[\"开发人员\",\"员工\",\"经理\",\"总经理\"]\r\n            let level=perList.indexOf(value.permission)\r\n            let work;\r\n            let data2={};\r\n            if(level===1){\r\n                work=1\r\n                data2={\r\n                    who:value.username,\r\n                    money:0\r\n                }\r\n            }else{\r\n                work=0\r\n            }\r\n            //组装数据\r\n            let data = {\r\n                ...value,\r\n                \"email\": 'xxx@xx.com',\r\n                \"level\": level,\r\n                \"work\":work\r\n            }\r\n            \r\n            // console.log(data)\r\n            return {data,data2}\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        }).then(value=>{\r\n            // console.log(value)\r\n\r\n            axios.post(\"http://localhost:5000/user\",value.data).then(res=>{\r\n                // console.log(res.data)\r\n\r\n                this.setState({\r\n                    data:[...this.state.data,res.data],\r\n                    visibleAdd:false\r\n                })\r\n            })\r\n            if(value.data2.who){\r\n                axios.post(\"http://localhost:5000/Performance\",value.data2)\r\n            }\r\n            \r\n\r\n            this.myAddForm.current.resetFields() //reset\r\n        })\r\n    }\r\n}\r\n","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\redux\\actions\\CollapsedAction.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\FoodMenuInfo.js",["111","112","113"],"import React from 'react'\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport css from './FoodMenuInfo.module.css'\r\nimport Loadimg from './loadImg'\r\nconst layout = {\r\n    labelCol: {\r\n      span: 4,\r\n    },\r\n    wrapperCol: {\r\n      span: 16,\r\n    },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: {\r\n      offset: 8,\r\n      span: 16,\r\n    },\r\n  };\r\n  \r\nexport default function FoodMenuInfo(props) {\r\n    const onFinish = (values) => {\r\n        props.setInfo({...props.foodInfo,...values})\r\n      };\r\n    \r\n    return (\r\n        <div>\r\n            <Form\r\n      {...layout}\r\n      name={css.basic}\r\n      initialValues={\r\n        props.foodInfo\r\n      }\r\n      onValuesChange={onFinish}\r\n    >\r\n      <Form.Item\r\n        label=\"价格\"\r\n        name=\"price\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入本菜品价格!',\r\n          },\r\n        ]}\r\n        \r\n      >\r\n          \r\n          <Input prefix=\"￥\" suffix=\"RMB\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"显示在菜单的图片\"\r\n        name=\"img\"\r\n        rules={[\r\n          {\r\n            required: false,\r\n            message: '未添加图片',\r\n          },\r\n        ]}\r\n      >\r\n        <Loadimg></Loadimg>\r\n      </Form.Item>\r\n\r\n    </Form>\r\n        </div>\r\n    )\r\n}\r\n","E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\Entry.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\App.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\profit\\Today.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\sideMenu\\SideMenu.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\purchase\\DemandModel.js",["114"],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\InfomationTable.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\loadImg.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\card.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\Card.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\home\\HomeTarget.js",[],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\food\\WriteFoodInfo.js",["115"],"E:\\千峰\\project\\第三阶段\\三阶段项目\\my-app\\src\\views\\informationEntry\\InformationEntry.js",[],{"ruleId":"116","severity":1,"message":"117","line":1,"column":30,"nodeType":"118","messageId":"119","endLine":1,"endColumn":37},{"ruleId":"116","severity":1,"message":"120","line":5,"column":8,"nodeType":"118","messageId":"119","endLine":5,"endColumn":13},{"ruleId":"116","severity":1,"message":"121","line":6,"column":8,"nodeType":"118","messageId":"119","endLine":6,"endColumn":13},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","replacedBy":"125"},{"ruleId":"116","severity":1,"message":"126","line":106,"column":23,"nodeType":"118","messageId":"119","endLine":106,"endColumn":30},{"ruleId":"116","severity":1,"message":"127","line":2,"column":23,"nodeType":"118","messageId":"119","endLine":2,"endColumn":29},{"ruleId":"116","severity":1,"message":"128","line":2,"column":31,"nodeType":"118","messageId":"119","endLine":2,"endColumn":39},{"ruleId":"116","severity":1,"message":"129","line":13,"column":9,"nodeType":"118","messageId":"119","endLine":13,"endColumn":19},{"ruleId":"116","severity":1,"message":"130","line":2,"column":31,"nodeType":"118","messageId":"119","endLine":2,"endColumn":36},{"ruleId":"131","severity":1,"message":"132","line":56,"column":7,"nodeType":"133","endLine":56,"endColumn":31},"no-unused-vars","'message' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'store' is defined but never used.","no-native-reassign",["134"],"no-negated-in-lhs",["135"],"'loading' is assigned a value but never used.","'Button' is defined but never used.","'Checkbox' is defined but never used.","'tailLayout' is assigned a value but never used.","'Radio' is defined but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation"]